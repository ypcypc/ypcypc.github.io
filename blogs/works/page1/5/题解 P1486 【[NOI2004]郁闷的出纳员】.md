# P1486 【[NOI2004]郁闷的出纳员】题解

---

## 0.前言

感觉写替罪羊树的人好少啊（难道dalao全部去写朝鲜树了吗？[滑稽]）……

于是Xm打算来写一波替罪羊树的题解

## 1.解题思路

这题目一看就知道是平衡树（？？？），插入操作、删除操作以及查询第K大元素都应该是平衡树的拿手好戏。

**工资变动**：工资变动其实十分简单，笨蛋的想法就是每次工资变动后，把每个节点全部加上或减去变动的值。但是呢，我们其实仔细思考就可以发现，其实只需要用一个变量来记一下工资变动总量就行了，到时候输出的时候就加上相应的

**插入操作**：插入操作其实比较简单，令*money*为当前总的工资变动量，*x*为当前员工的初始工资，那么我们要向树中插入一个值为*x-money*的节点。为什么？因为我们在